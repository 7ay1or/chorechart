<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>

  <body>
    <%- include('../partials/header'); %>

    <!--add task button-->
    <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#modal-1"
    >
      Add task
    </button>

    <!--add task modal-->

    <div
      id="modal-1"
      class="modal fade show"
      role="dialog"
      tabindex="-1"
      style="display: none"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">New Task</h4>
            <button
              class="btn-close"
              type="button"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <label class="form-label" for="taskname">Task Name</label
              ><input
                id="taskname"
                class="form-control"
                type="text"
                required
                minlength="3"
                maxlength="64"
              /><label class="form-label" for="assignee">Assignee</label
              ><select id="assignee" class="form-select" required>
                <optgroup label="Assignee">
                  <option value selected>Roommate A</option>
                  <option value>Roommate B</option>
                  <option value>Roommate C</option>
                </optgroup></select
              ><label class="form-label" for="frequency">Frequency</label
              ><select id="frequency" class="form-select" required>
                <optgroup label="Frequency">
                  <option value selected>Daily</option>
                  <option value>Weekly</option>
                  <option value>Monthly</option>
                </optgroup></select
              ><label class="form-label" for="duedate">Due Date</label
              ><input
                id="duedate"
                class="form-control"
                type="date"
                required
              /><label class="form-label">Comments</label
              ><textarea
                id="comments"
                class="form-control"
                maxlength="256"
                name="comments"
              ></textarea>
            </form>
          </div>
          <div class="modal-footer">
            <button class="btn btn-light" type="button" data-bs-dismiss="modal">
              Close</button
            ><button class="btn btn-primary" type="button">Save</button>
          </div>
        </div>
      </div>
    </div>

    <!--task container-->
    <div class="container w-75">
      <div class="card">
        <div class="card-header"><span>Tasks</span></div>
        <ul id="tasklist" class="list-group list-group-flush"></ul>
      </div>
    </div>

    <%- include('../partials/footer'); %>
    <script type="module">
      import { TaskAPI } from "/js/taskapi.js";
      TaskAPI.getTasks();
    </script>
  </body>
</html>
